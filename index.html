<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Workout Tracker</title>
	
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	
	<link rel="stylesheet" href="style.css" />
</head>
<body>

	<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" xmlns="http://www.w3.org/2000/svg">
		<symbol id="icon-planning" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<path d="M15.5 3H8.5C7.67 3 7 3.67 7 4.5V19.5C7 20.33 7.67 21 8.5 21H15.5C16.33 21 17 20.33 17 19.5V4.5C17 3.67 16.33 3 15.5 3Z"></path>
			<path d="M10 6H14"></path><path d="M10 10H14"></path><path d="M10 14H14"></path>
		</symbol>
		<symbol id="icon-progress" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
			<polyline points="17 6 23 6 23 12"></polyline>
		</symbol>
		<symbol id="icon-history" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
			<line x1="16" y1="2" x2="16" y2="6"></line>
			<line x1="8" y1="2" x2="8" y2="6"></line>
			<line x1="3" y1="10" x2="21" y2="10"></line>
		</symbol>
		<symbol id="icon-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<circle cx="12" cy="12" r="3"></circle>
			<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
		</symbol>
		
		<symbol id="icon-trash" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<polyline points="3 6 5 6 21 6"></polyline>
			<path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
			<line x1="10" y1="11" x2="10" y2="17"></line>
			<line x1="14" y1="11" x2="14" y2="17"></line>
		</symbol>
		<symbol id="icon-duplicate" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
			<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
			<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
		</symbol>
	</svg>

	<div class="top-controls-container">
		<div class="top-controls">
			<button id="addExerciseBtn">+ Exercise</button>
			<button id="addBreakBtn">+ Break</button>
			<button id="startWorkoutBtn" data-active="false">Start</button>
			<button id="saveWorkoutBtn">Save</button>
			<button id="cancelEditBtn" style="display:none;">Cancel Edit</button>
		</div>
	</div>

	<div class="container">
		
		<div class="main-panel active">
			<div id="workoutTotalTimer" class="total-timer" style="display:none;">Total Time: 00:00</div>
			
			<div class="table-wrapper">
				<div id="workoutListContainer">
					</div>
			</div>
			
			</div>
		
		<div class="progress-panel">
			<h2>Progress</h2>
			<select id="exerciseSelect">
				<option value="__all">All exercises</option>
			</select>
			
			<div class="chart-container">
				<h3>Difficulty</h3>
				<canvas id="difficultyChart" aria-label="Difficulty chart" role="img"></canvas>
			</div>
			<div class="chart-container">
				<h3>Total Load (Volume)</h3>
				<canvas id="weightChart" aria-label="Weight chart" role="img"></canvas>
			</div>
			<div class="chart-container">
				<h3>Workout Duration</h3>
				<canvas id="durationChart" aria-label="Duration chart" role="img"></canvas>
			</div>
			<div class="chart-container">
				<h3>Break Time</h3>
				<canvas id="breakChart" aria-label="Break time chart" role="img"></canvas>
			</div>
		</div>
		
		<div class="history-panel">
			<h2>History</h2>
			<div id="history">
				</div>
		</div>
		
		<div class="settings-panel">
			<h2>Settings</h2>
			<div class="settings-content">
				<div class="setting-row">
					<label for="defaultUnit">Default Unit</label>
					<select id="defaultUnit">
						<option value="kg">kg</option>
						<option value="lbs">lbs</option>
					</select>
				</div>
				<div class="setting-row">
					<label for="appearance">Appearance</label>
					<select id="appearance">
						<option value="light">Light</option>
						<option value="dark">Dark</option>
						<option value="system">System Default</option>
					</select>
				</div>
				<div class="setting-row">
					<label>Export / Import History</label>
					<div>
						<button id="exportCSVBtn">Export CSV</button>
						<button id="importCSVBtn">Import CSV</button>
						<input type="file" id="importFileInput" accept=".csv" style="display:none;">
					</div>
				</div>
				<div class="settings-row">
					<label>Sync to Google Drive</label>
					<div>
						<button id="authorize_button" onclick="handleAuthClick()">Authorize</button>
						<button id="signout_button" onclick="handleSignoutClick()">Sign Out</button>
						<pre id="content" style="white-space: pre-wrap;"></pre>
					</div>
				</div>
			</div>
		</div>
	</div>

	<nav class="bottom-nav">
		<button class="tab-btn active" data-target="main-panel">
			<svg><use href="#icon-planning"></use></svg>
			<span>Planning</span>
		</button>
		<button class="tab-btn" data-target="progress-panel">
			<svg><use href="#icon-progress"></use></svg>
			<span>Progress</span>
		</button>
		<button class="tab-btn" data-target="history-panel">
			<svg><use href="#icon-history"></use></svg>
			<span>History</span>
		</button>
		<button class="tab-btn" data-target="settings-panel">
			<svg><use href="#icon-settings"></use></svg>
			<span>Settings</span>
		</button>
	</nav>

	<div id="modalOverlay" class="modal-overlay" style="display: none;">
		<div class="modal-box">
			<p id="modalText"></p>
			<div class="modal-actions">
				<button id="modalCancelBtn" style="display: none;">Cancel</button>
				<button id="modalConfirmBtn">OK</button>
			</div>
		</div>
	</div>

	<script src="script.js"></script>
	<script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
	<script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>

</body>
</html>